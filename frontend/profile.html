<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Profile</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link href="css/reset.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/profile.css" rel="stylesheet">
    <link href="css/toast.css" rel="stylesheet">
</head>
<body>
<div class="wrapper">
    <header class="header">
        <img alt="" aria-hidden="true" class="hero-bg"
             src="img/profile/header/scenic-view-sky-sunrise_1048944-27468973.avif">
        <div class="logout-container">
            <button aria-label="Выйти" class="btn-log-out" id="logout-btn" type="button">
                <img alt="" src="img/profile/header/logout.png"/>
            </button>
        </div>
    </header>
    <main class="container profile-page">
        <section aria-labelledby="user‑name" class="profile-info">
            <figure class="profile-photo">
                <img alt="Аватар пользователя" height="128" loading="lazy"
                     src="img/profile/main/profile/profile avatar.png"
                     width="128">
            </figure>
            <dl class="profile-details">
                <dt>Имя</dt>
                <dd id="profile-username"></dd>
                <dd class="actions">
                    <button aria-label="Изменить имя"
                            class="btn-edit"
                            data-field="username"
                            type="button">Изменить
                    </button>
                </dd>

                <dt>Электронная&nbsp;почта</dt>
                <dd id="profile-email"></dd>
                <dd class="actions">
                    <button aria-label="Изменить электронную почту"
                            class="btn-edit"
                            data-field="email"
                            type="button">Изменить
                    </button>
                </dd>

                <dt>Дата&nbsp;рождения</dt>
                <dd id="profile-birthdate"></dd>
                <dd class="actions">
                    <button aria-label="Изменить дату рождения"
                            class="btn-edit"
                            data-field="birthdate"
                            type="button">Изменить
                    </button>
                </dd>

                <!-- Кнопка перехода на админ панель (только для админов) -->
                <div id="admin-panel-section" style="display: none">
                    <button aria-label="Перейти в админ панель"
                            class="btn-admin-panel"
                            id="admin-panel-btn"
                            type="button">Админ панель</button>
                </div>
            </dl>
        </section>
        <section class="cart">
            <h2 class="section-title cart-heading" id="cart-title">Корзина</h2>
            <hr aria-hidden="true" class="section-divider">
            <ul class="orders-list" id="orders-list"></ul>
            <div class="no-orders" id="no-orders">
                <p class="no-orders__text">У&nbsp;вас&nbsp;пока&nbsp;нет&nbsp;заказов</p>
                <div class="no-orders__plus"></div>
            </div>
        </section>
        <div aria-hidden="true" class="hidden" id="profile-cart-modal">
            <div aria-modal="true" class="modal__dialog" role="dialog">
                <h2 class="modal__title">Добавить товар</h2>

                <label class="modal__label">
                    Товар:
                    <select class="modal__select" id="profile-product-select"></select>
                </label>

                <label class="modal__label">
                    Кол‑во:
                    <input autocomplete="off" class="modal__input" id="profile-qty-input" inputmode="numeric" type="text">
                </label>

                <p class="modal__total" id="profile-total-price">Итого: —</p>

                <div class="modal__actions">
                    <button class="modal__btn modal__btn_cancel" id="profile-cancel-btn">Отмена</button>
                    <button class="modal__btn modal__btn_ok" disabled id="profile-confirm-btn">Добавить</button>
                </div>
            </div>
        </div>

        <div aria-hidden="true" class="hidden" id="profile-edit-modal">
            <div aria-modal="true" class="modal__dialog" role="dialog">
                <h2 class="modal__title" id="profile-edit-modal-title"></h2>

                <label class="modal__label" id="profile-edit-modal-label">
                </label>

                <div class="modal__actions">
                    <button class="modal__btn modal__btn_cancel" id="profile-edit-cancel">Отмена</button>
                    <button class="modal__btn modal__btn_ok" disabled id="profile-edit-save">Сохранить</button>
                </div>
            </div>
        </div>

        <!-- Модальное окно для информации о товаре -->
        <div aria-hidden="true" class="hidden" id="profile-product-info-modal">
            <div aria-modal="true" class="product-modal__dialog" role="dialog">
                <button aria-label="Закрыть" class="product-modal__close" id="profile-product-info-close">
                    <svg height="24" viewBox="0 0 24 24" width="24">
                        <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/>
                    </svg>
                </button>

                <div class="product-modal__content">
                    <div class="product-modal__image">
                        <img alt="" id="profile-product-info-image" src="">
                    </div>
                    <div class="product-modal__info">
                        <h2 class="product-modal__title" id="profile-product-info-name"></h2>
                        <p class="product-modal__price" id="profile-product-info-price"></p>
                        <p class="product-modal__quantity">Количество: <span id="profile-product-info-quantity"></span></p>
                        <div class="product-modal__total">
                            Общая стоимость: <span id="profile-product-info-total"></span>
                        </div>
                    </div>
                </div>

                <div class="product-modal__actions">
                    <button class="product-modal__btn product-modal__btn_edit" id="profile-product-edit-btn">
                        <svg height="16" viewBox="0 0 24 24" width="16">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor"
                                  stroke-width="2"/>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor"
                                  stroke-width="2"/>
                        </svg>
                        Редактировать
                    </button>
                    <button class="product-modal__btn product-modal__btn_delete" id="profile-product-delete-btn">
                        <svg height="16" viewBox="0 0 24 24" width="16">
                            <path d="M3 6h18m-2 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1-2-2h4a2 2 0 0 1 2 2v2"
                                  stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Удалить
                    </button>
                </div>
            </div>
        </div>

        <!-- Модальное окно для редактирования товара -->
        <div aria-hidden="true" class="hidden" id="profile-cart-edit-modal">
            <div aria-modal="true" class="modal__dialog" role="dialog">
                <h2 class="modal__title">Редактировать товар</h2>

                <div class="edit-product__info">
                    <img alt="" class="edit-product__image" id="profile-cart-edit-image" src="">
                    <div class="edit-product__details">
                        <h3 id="profile-cart-edit-name"></h3>
                        <p id="profile-cart-edit-price"></p>
                    </div>
                </div>

                <label class="modal__label">
                    Количество:
                    <input autocomplete="off" class="modal__input" id="profile-cart-edit-qty" inputmode="numeric" min="1"
                           type="text">
                </label>

                <p class="modal__total" id="profile-cart-edit-total">Итого: —</p>

                <div class="modal__actions">
                    <button class="modal__btn modal__btn_cancel" id="profile-cart-edit-cancel">Отмена</button>
                    <button class="modal__btn modal__btn_ok" disabled id="profile-cart-edit-save">Сохранить</button>
                </div>
            </div>
        </div>

    </main>

    <footer class="footer">
        <div class="footer__top">
            <div class="footer-branding">
                <h2 class="footer__logo"><a href="#">GREENMIND</a></h2>
                <p class="footer__tagline">We help you find your dream plant</p>
                <ul class="footer__social">
                    <li><a class="social__link" href="#"><img alt=""
                                                              src="/frontend/img/index/footer/social/Group_11.svg"></a>
                    </li>
                    <li><a class="social__link" href="#"><img alt=""
                                                              src="/frontend/img/index/footer/social/Group_12.svg"></a>
                    </li>
                    <li><a class="social__link" href="#"><img alt=""
                                                              src="/frontend/img/index/footer/social/Group_13.svg"></a>
                    </li>
                </ul>
            </div>
            <div class="footer__nav">
                <ul class="footer__nav-list">
                    <li class="footer__nav-item non-clickable">Information</li>
                    <li class="footer__nav-item"><a href="#">About</a></li>
                    <li class="footer__nav-item"><a href="#">Product</a></li>
                    <li class="footer__nav-item"><a href="#">Blog</a></li>
                </ul>
                <ul class="footer__nav-list">
                    <li class="footer__nav-item non-clickable">Company</li>
                    <li class="footer__nav-item"><a href="#">Community</a></li>
                    <li class="footer__nav-item"><a href="#">Career</a></li>
                    <li class="footer__nav-item"><a href="#">Our story</a></li>
                </ul>
                <ul class="footer__nav-list">
                    <li class="footer__nav-item non-clickable">Contact</li>
                    <li class="footer__nav-item"><a href="#">Getting Started</a></li>
                    <li class="footer__nav-item"><a href="#">Pricing</a></li>
                    <li class="footer__nav-item"><a href="#">Resources</a></li>
                </ul>
            </div>
        </div>
        <div class="footer__legal">
            <small>2023 all Right Reserved Term of use GREENMIND</small>
        </div>
    </footer>

    <!-- Контейнер для Toast уведомлений -->
    <div id="toast-container"></div>

    <!-- Подключение утилит -->
    <script src="js/utils/security.js"></script>
    <script src="js/utils/toast.js"></script>
    <script src="js/utils/api.js"></script>
    <script src="js/utils/modal-utils.js"></script>
    <script src="js/utils/cart-utils.js"></script>
    <script src="js/pages/profile.js"></script>

</div>
</body>
</html>